<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <title>Factura</title>
</head>
<body>
    <div id="ejerFactura" class = "container">
    <div v-if ="edo">
        <h1 class="text-success" >Factura</h3>
        <br>
        <div class="input-group input-group-sm mb-3">
            <span class="input-group-text" id="inputGroup-sizing-sm">Nombre del cliente</span>
            <input v-model="nombre" type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm">
        </div>
        <div class="input-group input-group-sm mb-3">
            <span class="input-group-text" id="inputGroup-sizing-sm">Metros consumidos</span>
            <input v-model="cantidad" type="number" class="form-control" aria-label="Sizing example input" placeholder="Ingrese los metros consumidos en el mes" aria-describedby="inputGroup-sizing-sm">
        </div>
        <div class="form-check form-check-inline">
            <input v-model ="opcValor" @change="getEstrato" class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="1">
            <label class="form-check-label" for="inlineRadio1">Estrato 1</label>
        </div>
        <div class="form-check form-check-inline">
            <input v-model ="opcValor" @change="getEstrato" class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="2">
            <label class="form-check-label" for="inlineRadio2">Estrato 2</label>
        </div>
        <div class="form-check form-check-inline">
            <input v-model ="opcValor" @change="getEstrato" class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio3" value="3">
            <label class="form-check-label" for="inlineRadio3">Estrato 3</label>
        </div>
        <br>
        <button @click="tPagar" class="btn btn-success btn-sm col-12" >Facturar</button>
        <br>
        <h3>Registro de Facturación</h3>
        <br>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th scope="col">Nombre</th>
                    <th scope="col">Estrato</th>
                    <th scope="col">Cargo fijo</th>
                    <th scope="col">Subsidio</th>
                    <th scope="col">Cantidad</th>
                    <th scope="col">Valor mt</th>
                    <th scope="col">Total</th>
                </tr>
            </thead>
            <tbody v-if="arrayValores.length" >
                <tr v-for="item in arrayValores" >
                    <td v-text="item.Cliente"></td>
                    <td v-text="item.Estrato"></td>
                    <td v-text="item.CFijo"></td>
                    <td v-text="item.CFijo*0.6"></td>
                    <td v-text="item.Cantidad"></td>
                    <td v-text="item.Precio"></td>
                    <td v-text="item.Total"></td>
                </tr>
                <tr style="background-color: cadetblue ;">
                    <td colspan="6" align="right"><strong>Total facturado</strong></td>
                    <td align="left"><strong><h6>{{totalPagar}}</h6></strong></td>
                </tr>
                <tr style="background-color: bisque ;">
                    <td colspan="4" align="right"><strong>Total Cantidad</strong></td>
                    <td align="left"><strong><h6>{{totalCantidad}}</h6></strong></td>
                </tr>
            </tbody>
            <tbody v-else >
                <tr style="background-color: azure;" align="center" >
                    <td colspan="7">No existen movimientos registrados</td>
                </tr>
            </tbody>
        </table>
        <button @click="isEdoFalse" class="btn btn-dark btn-sm col-12" >Informe</button>
    </div>
    <div v-else>
        <h2>Informes de facturación</h2>
        <span><h2>Promedio estrato 1</h2><h4 v-text="promEstra1"></h4></span>
        <button @click="isEdoTrue" class="btn btn-danger btn-sm col-12" >Atrás</button>
    </div>
    </div>
</body>
<script src="js/vue.js"></script>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="js/ejerFactura.js"></script>
</html>